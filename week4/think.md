# 패칭 라이브러리에 대해 알아보고, 아티클을 작성해보자

### 패칭 라이브러리에는 무엇이 있나? (react-query, swr, …)

데이터 패칭 라이브러리에는 react-query, swr 등이 있다.

### 각각의 장점은 무엇인가? 어떻게 결정하는가?

- react-query
- [x] 서버의 값을 클라이언트에 가져오거나, 캐싱, 값 업데이트, 에러핸들링 등 비동기 과정을 더욱 편하게 할 수 있다.
- [x] get을 한 데이터에 대해 update를 하면 자동으로 get을 다시 수행해준다.
- [x] 데이터가 오래 되었다고 판단되면 다시 get을 해주고, 안 쓰는 데이터들을 검사하며 관리해준다.
- [x] 동일 데이터를 여러번 요청하면 한번만 요청한다.
- [x] 비동기 과정을 선언적으로 관리할 수 있다.
- [x] react hook과 사용하는 구조가 비슷하다.

- swr
- [x] 글로벌로 fetcher함수나 세부 option들을 지정할 수 있는 configuration provider를 제공한다.
- [x] 불필요한 요청을 막아준다.
- [x] 불필요한 리렌더링을 막아준다.
- [x] 불필요한 코드가 삽입되는 것을 막아준다.

### 패칭 할 때의 기능적인 차이는 무엇인가? 왜 차이가 나는 것이지?

React Query는 리액트 애플리케이션에 서버 상태를 가져오고, 캐싱하고, 동기화하고, 업데이트하는 것을 쉽게 해 주는 라이브러리이고, SWR은 먼저 캐시에서 데이터를 반환한 다음, 서버에 데이터를 가져오는 요청을 보내고, 마지막으로 최신 데이터를 제공하는 라이브러리이다. 정말 많은 아티클을 읽었지만, 아직 두 라이브러리를 직접 써보지는 못한 탓에 완벽히 이해한 것 같지는 않다, 하지만 두드러지게 드러나는 두 라이브러리의 특징은 React Query는 서버를 먼저 가져오는 반면, SWR은 데이터를 먼저 반환하고 서버에 요청을 보낸다는 것이다. 이렇게 차이가 나는 이유는 아무래도 React Query는 데이터를 계속 검사하면서 오래되면 다시 get해주고, update되면 자동으로 get을 해주고, 안 쓰는 데이터들을 검사해주는 등 서버의 변화에 민감하게 반응해야해서 서버에 먼저 접근하고, SWR은 불필요한 요청이나 리렌딩을 막아주는 것이 주요특징이기때문에, 처음부터 유의미하게 필요한 데이터에 접근하는 것이 아닐까 하는 뇌피셜이..다...

### 패칭 라이브러리를 잘 쓰기 위한 방안에는 무엇이 있는가?

패칭을 어떻게 해와서, 어떻게 사용할지 사용 목적에 따라 달라질 것이라고 생각한다. 사실 아직 두 라이브러리를 직접 사용해보진 않았다보니 완벽하게 이해하지는 못했다...ㅠㅠ 하지만 만약 그냥 두어도 저절로 다시 get되게 하거나, update했을 때 자동으로 get이 되거나 하는 방법을 원한다면 react queary를, 불필요한 요청이나 리렌더링을 막기 위해서는 swr을 사용하면서, 프로젝트의 목적에 따라 적절히 사용하면 되지 않을까 싶다. 이제 axios랑 약간 친해질락말락하고 있는데, react query와 swr도 조만간 사용해보아야겠다.

### 참고

![카카오 FE 블로그] https://fe-developers.kakaoent.com/2022/220224-data-fetching-libs/
![MADTECH] https://tech.madup.com/react-query-vs-swr/
![velog] https://velog.io/@seohee0112/React-Query-vs-SWR
